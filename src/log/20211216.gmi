# 20211216 - gemini

Ive added gemini support to this site! both of my attempts do the same thing
of weirdly preprocessing mdoc, and trial erroring the output until it looks
correct. first go at it was a horrible and unspeakable chain of seds, probably
script ive written in a few years. in my defence, at that stage it was mostly
explority to see if my plan would work, and it did so i moved to something a
little more proper.

awk. awk is nice. i like awk now. not gnu awk, although i couldnt say if its
badbad, just normal posix/busybox awk. i think it fills a niche ive been
missing for a while now, about as portable as posix shell, but faster and more
readable. of course it can do much less things (when used within reason), but
for text processing it is literally made for the job.

i wrote a gemini client to learn more, kind of. i did what i think is proper
and shelled out to do the not text stuff, (in this case to gmni(1)), and then
did all the processing from its output. its not completed or anything, but the
basic skeleton of it works. a tiny project in the large scheme of things, but
thats how wrapper scritps should be in the end i believe, gluing a handle onto
an otherwise fine tool to make it just that much more ergonomic.

overall i like the gemini protocol a lot, im not sure im (currently) willing
to touch it from a low level, dealing with all the tls stuff and whatnot, but
the syntax and formatting are quite nice. i feel it works very well with a
preproccesor, drawing text diagrams/plots etc. as such fits into my site
workflow pretty well, other than having to make my own mdoc -> gemtext script
myself

=> /git/dotfiles/f/bin/web/gemini.awk scuff gemini client
